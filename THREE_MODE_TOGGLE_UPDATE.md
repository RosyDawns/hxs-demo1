# 三模式切换功能说明

## 更新时间
2025-10-13

## 功能概述

为**冠军大师**和**非遗大师**页面添加了三种显示模式循环切换功能，用户可以通过重复点击"关注"、"推荐"、"附近"标签在三种模式间循环切换。

## 🎯 三种显示模式

### 模式1：大师卡片模式 (Mode1 - ChampionMasterCard)
**组件**：`ChampionMasterCard.vue`
**显示内容**：
- 大尺寸头像（264px高度）
- 小头像 + 姓名
- 大师称号/头衔
- 擅长领域
- "去打Call"按钮（渐变色）

**特点**：强调视觉冲击力，适合展示大师形象

### 模式2：列表卡片模式 (Mode2 - Mode2Card)
**组件**：`Mode2Card.vue`（新创建，类似首页风格）
**显示内容**：
- 大尺寸头像
- 小头像 + 姓名
- 资质/认证信息
- 擅长技能
- 评分星级
- 服务标签（到店/上门/线上）

**特点**：信息详细，适合对比选择，与首页风格一致

### 模式3：作品内容模式 (Mode3 - ContentCard)
**组件**：`ContentCard.vue`
**显示内容**：
- 作品图片
- 作品标题
- 作者头像 + 姓名
- 点赞按钮 + 点赞数

**特点**：展示作品和内容，适合查看大师的实际作品

## 🔄 循环切换逻辑

### 切换流程
```
点击"关注"/"推荐"/"附近"标签：

初始：模式1（大师卡片）
  ↓ 再次点击同一标签
切换：模式2（列表卡片 - 首页风格）
  ↓ 再次点击同一标签
切换：模式3（作品内容）
  ↓ 再次点击同一标签
循环：回到模式1（大师卡片）
  ↓ 继续循环...
```

### 代码实现
```javascript
selectFilterTab(tabId) {
  const toggleableTabs = ["follow", "recommend", "nearby"];
  
  if (this.selectedFilterTab === tabId && toggleableTabs.includes(tabId)) {
    // 循环切换三种模式
    if (this.viewMode === "mode1") {
      this.viewMode = "mode2";  // 切换到模式2
    } else if (this.viewMode === "mode2") {
      this.viewMode = "mode3";  // 切换到模式3
    } else {
      this.viewMode = "mode1";  // 切回模式1
    }
  } else {
    // 切换到新标签，重置为模式1
    this.selectedFilterTab = tabId;
    if (toggleableTabs.includes(tabId)) {
      this.viewMode = "mode1";
    }
  }
}
```

## 📊 模式对比

| 特性 | 模式1 | 模式2 | 模式3 |
|------|-------|-------|-------|
| 组件 | ChampionMasterCard | Mode2Card | ContentCard |
| 主要用途 | 展示大师形象 | 详细信息对比 | 展示作品 |
| 图片尺寸 | 大（264px） | 大（180px） | 正方形 |
| 评分显示 | ❌ | ✅ 星级 | ❌ |
| 服务标签 | ❌ | ✅ | ❌ |
| 点赞功能 | ❌ | ❌ | ✅ |
| 交互按钮 | 去打Call | 点击查看 | 点赞 |
| 风格参考 | 专属设计 | 首页风格 | 内容卡片 |

## 🎨 页面效果

### 模式1 - 大师卡片
```
┌─────────────┬─────────────┐
│ [大图头像]  │ [大图头像]  │
│  ◯ 李教练   │  ◯ 赵教练   │
│ 世界游泳... │ 奥运会...   │
│ 擅长:蛙泳   │ 擅长:仰泳   │
│[去打Call]   │[去打Call]   │
└─────────────┴─────────────┘
```

### 模式2 - 列表卡片（首页风格）
```
┌─────────────┬─────────────┐
│ [头像图片]  │ [头像图片]  │
│ ◯ 李教练    │ ◯ 赵教练    │
│国家一级...  │国家一级...  │
│擅长:长泳... │擅长:仰泳... │
│4.8 ★★★★☆   │4.9 ★★★★★  │
│   到店服务  │   上门服务  │
└─────────────┴─────────────┘
```

### 模式3 - 作品内容
```
┌─────────────┬─────────────┐
│ [作品图片]  │ [作品图片]  │
│非遗剪纸秀  │当饰品遇到  │
│◯ 张颖莹 ♡ │◯ 修猫  ♡  │
└─────────────┴─────────────┘
```

## 💡 数据结构

### 模式1数据 (championMastersList)
```javascript
{
  id: 1,
  name: "李教练",
  title: "世界游泳冠军",
  specialty: "蛙泳/自由泳",
  avatar: "https://..."
}
```

### 模式2数据 (mode2MastersList) - 新增
```javascript
{
  id: 1,
  name: "李教练",
  avatar: "https://...",
  pic: "https://...",           // 小头像
  qualification: "国家一级游泳运动员",
  skills: "长泳/自由泳",
  rating: 4.8,                  // 评分
  label: "到店服务"             // 服务标签
}
```

### 模式3数据 (contentList)
```javascript
{
  id: 1,
  title: "非遗剪纸服装秀 | 白鹅谭艺术中心",
  author: {
    name: "非遗剪纸张颖莹",
    avatar: "https://..."
  },
  image: "https://...",
  likes: 0
}
```

## ✅ 功能清单

### 冠军大师页面
- ✅ 关注标签：循环切换 mode1 → mode2 → mode3 → mode1
- ✅ 推荐标签：循环切换 mode1 → mode2 → mode3 → mode1
- ✅ 附近标签：循环切换 mode1 → mode2 → mode3 → mode1
- ✅ 筛选标签：仅显示mode1，不支持切换
- ✅ 直播标签：仅显示mode1，不支持切换

### 非遗大师页面
- ✅ 关注标签：循环切换 mode1 → mode2 → mode3 → mode1
- ✅ 推荐标签：循环切换 mode1 → mode2 → mode3 → mode1
- ✅ 附近标签：循环切换 mode1 → mode2 → mode3 → mode1
- ✅ 筛选标签：仅显示mode1，不支持切换
- ✅ 直播标签：仅显示mode1，不支持切换

### 人气大师页面
- ✅ 不支持模式切换，始终显示列表布局（RankingCard）

## 🧪 测试要点

1. **循环切换测试**
   ```
   ✅ 点击"关注" 3次，验证 mode1 → mode2 → mode3 → mode1
   ✅ 点击"推荐" 3次，验证完整循环
   ✅ 点击"附近" 3次，验证完整循环
   ```

2. **标签切换测试**
   ```
   ✅ 在mode2下点击"推荐"，验证切换到推荐标签的mode1
   ✅ 在mode3下点击"附近"，验证切换到附近标签的mode1
   ```

3. **不可切换标签测试**
   ```
   ✅ 点击"筛选"多次，验证始终显示mode1
   ✅ 点击"直播"多次，验证始终显示mode1
   ```

4. **数据显示测试**
   ```
   ✅ mode1显示ChampionMasterCard样式
   ✅ mode2显示Mode2Card样式（类似首页）
   ✅ mode3显示ContentCard样式
   ```

## 📄 相关文件

- **页面文件**: `src/views/RankingPage.vue`
- **模式1组件**: `src/components/ChampionMasterCard.vue`
- **模式2组件**: `src/components/Mode2Card.vue` ⭐ 新创建
- **模式3组件**: `src/components/ContentCard.vue`

## 🎉 完成状态

三模式循环切换功能已完成！用户可以在冠军大师和非遗大师页面通过重复点击"关注"、"推荐"、"附近"标签在三种显示模式间自由切换，体验不同的内容呈现方式。

## 🌟 亮点

1. **循环切换**：三种模式无缝循环，操作简单直观
2. **新组件**：Mode2Card组件与首页风格一致，保持UI统一性
3. **灵活展示**：三种模式各有侧重，满足不同查看需求
4. **智能重置**：切换标签时自动重置为mode1，避免混淆
