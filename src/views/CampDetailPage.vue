<template>
  <div class="camp-detail-page">
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <header class="header">
      <div class="nav-bar">
        <button class="back-btn" @click="goBack">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path
              d="M12.5 15L7.5 10L12.5 5"
              stroke="#333"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </button>
        <h1 class="title">å…è´¹ä½“éªŒæ´»åŠ¨è¯¦æƒ…</h1>
      </div>
      <div class="subtitle">é’å°‘å¹´å­¦ä¹ æ²Ÿé€šå¦‚æ‹‰åœ¨å®¶é‡Œæˆ·æä¾›çš„äºº</div>
    </header>

    <!-- ä¸»å›¾å’ŒåŸºç¡€ä¿¡æ¯ -->
    <div class="main-content">
      <div class="hero-image">
        <img src="@images/img_41.jpg" alt="æ¸¸æ³³æ´»åŠ¨" class="camp-image" />
      </div>

      <div class="camp-info">
        <h2 class="camp-title">è›™æ³³/è‡ªç”±æ³³(ä½“éªŒè¯¾)</h2>

        <!-- ä»·æ ¼ä¿¡æ¯ -->
        <div class="price-section">
          <div class="price-info">
            <span class="current-price">Â¥0</span>
            <span class="original-price">Â¥280</span>
          </div>
          <div class="status-info">
            <span class="quota">ğŸ—ºï¸ 50ä¸ªä¸­å¥–åé¢</span>
          </div>
        </div>

        <!-- ç»Ÿè®¡ä¿¡æ¯ -->
        <div class="stats-info">
          <span class="stat-item">14671äººå·²æŠ¥å</span>
          <span class="stat-item">33936äººæ„Ÿå…´è¶£</span>
        </div>
      </div>

      <!-- æ•™ç»ƒä¿¡æ¯ -->
      <div class="coach-section">
        <h3 class="section-title">é€‚ç”¨æ•™ç»ƒå¸ˆ</h3>
        <div class="coach-card">
          <img src="@images/img-13.jpg" alt="æè€å¸ˆ" class="coach-avatar" />
          <div class="coach-info">
            <div class="flex items-center">
              <div class="coach-name">æè€å¸ˆ</div>
              <div class="coach-tags ml-2">
                <span class="tag">ä½“è‚²è¯¾</span>
                <span class="tag">æ¸¸æ³³æ•™å­¦</span>
              </div>
            </div>
            <div class="coach-rating">
              <div class="stars">
                <span class="star filled">â˜…</span>
                <span class="star filled">â˜…</span>
                <span class="star filled">â˜…</span>
                <span class="star filled">â˜…</span>
                <span class="star">â˜…</span>
              </div>
            </div>
            <div class="coach-details">
              <span class="location"
                >ğŸ“1km å¸‚åŒºé™„è¿‘æœ‰é™å…¬å¸åŠäº‹å¤„å®‰é¡ºå¸‚1å·001</span
              >
            </div>
          </div>
        </div>
      </div>

      <!-- æ™ºæ…§å®¶é•¿æ–°ç­” -->
      <div class="smart-parent-section">
        <h3 class="section-title">æ™ºæ…§å®¶é•¿æ–°ç­”</h3>
        <div class="parent-cards">
          <div class="parent-card">
            <img src="@images/img-36.jpg" alt="ä½“éªŒè¯¾" class="parent-image" />
            <p class="parent-text">ä½“éªŒè¯¾</p>
          </div>
          <div class="parent-card">
            <img src="@images/img-36.jpg" alt="æ¸¸æ³³è¯¾" class="parent-image" />
            <p class="parent-text">æ¸¸æ³³è¯¾ã€200å…ƒ</p>
          </div>
          <div class="parent-card">
            <img src="@images/img-36.jpg" alt="æš‘å‡" class="parent-image" />
            <p class="parent-text">100å¤©äº†æš‘å‡</p>
          </div>
        </div>
      </div>

      <!-- æ ‡ç­¾æ  -->
      <div class="tabs-section" :class="{ sticky: isSticky }">
        <div class="tabs">
          <button
            class="tab"
            :class="{ active: activeTab === 'æ´»åŠ¨æµç¨‹' }"
            @click="scrollToSection('æ´»åŠ¨æµç¨‹')"
          >
            æ´»åŠ¨æµç¨‹
          </button>
          <button
            class="tab"
            :class="{ active: activeTab === 'æ´»åŠ¨å†…å®¹' }"
            @click="scrollToSection('æ´»åŠ¨å†…å®¹')"
          >
            æ´»åŠ¨å†…å®¹
          </button>
          <button
            class="tab"
            :class="{ active: activeTab === 'æ´»åŠ¨è§„åˆ™' }"
            @click="scrollToSection('æ´»åŠ¨è§„åˆ™')"
          >
            æ´»åŠ¨è§„åˆ™
          </button>
        </div>
      </div>

      <!-- æ´»åŠ¨æµç¨‹ -->
      <div class="tab-content mb-3">
        <img src="@images/hd-steps-bannaer.png" class="block" />
      </div>

      <!-- æ´»åŠ¨å†…å®¹ -->
      <div class="tab-content">
        <div class="content-section">
          <h3 class="content-title">æ´»åŠ¨å†…å®¹</h3>

          <div class="activity-content">
            <div class="content-item">
              <div class="label">è¯¾ç¨‹å†…å®¹ï¼š</div>
              <div class="value">è›™æ³³/è‡ªç”±æ³³ä½“éªŒ</div>
            </div>

            <div class="content-item">
              <div class="label">å®¹çº³äººæ•°ï¼š</div>
              <div class="value">1äºº</div>
            </div>

            <div class="content-item">
              <div class="label">å®¹çº³æ—¶é—´ï¼š</div>
              <div class="value">40åˆ†é’Ÿ</div>
            </div>

            <div class="content-item">
              <div class="label">å®¹çº³ä½“éªŒæ¬¡æ•°ï¼š</div>
              <div class="value">ä»…é™å•æ¬¡ä½“éªŒå®Œæ¯•</div>
            </div>

            <div class="content-item">
              <div class="label">é€‚ç”¨å¹´é¾„ï¼š</div>
              <div class="value">ä¸é™ï¼Œå°æœ‹</div>
            </div>

            <div class="content-item">
              <div class="label">ç‰¹è‰²ï¼š</div>
              <div class="value">å°ç­</div>
            </div>
          </div>

          <div class="notice">
            <div class="notice-icon">âš ï¸</div>
            <div class="notice-text">
              å…è´¹ä½“éªŒåªé™å¯¹å¹´é¾„ä»¥ä¸Šå†…å®¹ï¼Œé™¤å¤–çš„è¯¾ç¨‹æ¸…è¯¢æ¶ˆå®¢æœå°å¯¹è€…å®‰æ’é€‚è¡¨ã€‚
            </div>
          </div>
        </div>
      </div>

      <!-- æ´»åŠ¨è§„åˆ™ -->
      <div class="tab-content">
        <div class="content-section">
          <h3 class="content-title">æ´»åŠ¨è§„åˆ™</h3>

          <!-- ä½“éªŒæ—¶é—´ -->
          <div class="rule-section">
            <h4 class="rule-title">ä½“éªŒæ—¶é—´</h4>
            <div class="rule-content">
              <div class="rule-item">
                <span class="rule-label">ä½“éªŒæ—¥æœŸï¼š</span>
                <span class="rule-text">2025å¹´10æœˆ11æ—¥ - 2025å¹´11æœˆ30æ—¥</span>
              </div>
              <div class="rule-item">
                <span class="rule-label">ä½¿ç”¨æ—¶é—´ï¼š</span>
                <span class="rule-text">åŒç½‘ç«™æ­£å¼ä¸Šçº¿åå¼€å§‹</span>
              </div>
            </div>
            <div class="rule-notice">
              <span class="notice-dot">â€¢</span>
              <span class="notice-content"
                >é˜€åœ¨ä½“éªŒéƒ½ä½“éªŒè¿‡ç¨‹ä¸­ä¸ªï¼Œè¿›å…¥ä½“éªŒä¸ªä¸ºä¸åœ¨å¯è·å¾—å…¶å¯ä»¥ç­‰å„æ–¹è¿›å‚ã€‚</span
              >
            </div>
          </div>

          <!-- é¢„çº¦è§„åˆ™ -->
          <div class="rule-section">
            <h4 class="rule-title">é¢„çº¦è§„åˆ™</h4>
            <div class="rule-notice">
              <span class="notice-dot">â€¢</span>
              <span class="notice-content"
                >è¯·åœ¨çº¦å®šç¬¬ä¸€æ¬¡æ—¶é—´å‰è”ç³»å®¢æœï¼Œè‹¥æœªèƒ½åœ¨çº¦å®šæ—¶é—´å†…è¿›è¡Œè¯¾ç¨‹çš„ä½“éªŒï¼Œè¯¾ç¨‹æ­¤æ¬¡ä½“éªŒæœåŠ¡ä½“éªŒã€‚</span
              >
            </div>
            <div class="rule-notice">
              <span class="notice-dot">â€¢</span>
              <span class="notice-content"
                >å•æ¬¡ä½“éªŒçš„è¯¾ç¨‹ç½‘ï¼ˆä¸­æ„åˆæ³•è”ç³»å…³ç³»å¤§æ­¤é‡çš„ï¼Œæ—¶æœªèƒ½ä¿éšœçš„å®¢æœè”ç³»ã€‚</span
              >
            </div>
          </div>

          <!-- é™å‘Šé¡»çŸ¥ -->
          <div class="rule-section">
            <h4 class="rule-title">é™å‘Šé¡»çŸ¥</h4>
            <div class="rule-notice">
              <span class="notice-dot">â€¢</span>
              <span class="notice-content"
                >å…è´¹ä½“éªŒè¯¾ç¨‹ä¸ä½äºå›å®¶æœåŠ¡åœ°ç‚¹ã€‚</span
              >
            </div>
            <div class="rule-notice">
              <span class="notice-dot">â€¢</span>
              <span class="notice-content"
                >ä¸å¾—åˆ©ç”¨ä½“éªŒçš„æœºä¼šè¿›è¡Œå…¶ä»–å•†ä¸šæ´»åŠ¨ï¼Œä¸€ç»å‘ç°å³å¯å–æ¶ˆæœ¬æ¬¡ä½“éªŒæœºä¼šã€‚</span
              >
            </div>
          </div>

          <!-- è¯„ä»·é¡»çŸ¥ -->
          <div class="rule-section">
            <h4 class="rule-title">è¯„ä»·é¡»çŸ¥</h4>
            <div class="rule-description">
              1æœˆä¸€å¤šåœ¨ä½“éªŒè¯¾ç¨‹ä¸ƒå¤©å†…ä¸€ä¸€è¯„ä»·ï¼Œå»ºè®°ä¸èƒ½åœ¨ä¸€10å­—ä»¥å†…ï¼Œè¶…è¿‡å¤©æœªèƒ½è¯„ä»·ï¼Œç³»ç»Ÿå†…éƒ¨ä¸èƒ½å®šå­¦å®¶é•¿7æ—¥å†…è¯„ä»·è¢«è§†ä¸ºé»˜è®¤å¥½è¯„ï¼Œå»ºè®°ç³»ç»Ÿå°†åœ¨ä¼ ç»Ÿä¸­çš„è¿è½¬ä¸­è‡ªåŠ¨åé¦ˆæ¸…é€‰æ‹©â€œæ»¡æ„â€ã€‚
            </div>
            <div class="rule-notice">
              <span class="notice-dot">â€¢</span>
              <span class="notice-content"
                >è¯·åœ¨å…¬å¼€è¯„ä»·æ—¶ï¼Œæ·±å…¥æƒ…å†µåœ¨è¯„ä»·ä½“éªŒä¸­æ£€å§‹ç†ä»¥ååŠ©æ•™è‚²æœºæ„å®Œå–„é«˜è´¨é‡æ•™å­¦æœåŠ¡ã€‚æ•™è‚²æœºæ„å°†æ€»æ•°è®¤çœŸå¯¹å¾…å®¶é•¿åé¦ˆçš„æ•™å­¦ã€‚æ— å…ˆæœºæ•™è‚²æœºæ„å¹¶ç›¸åº”æå‡ã€‚ç¬¬äºŒï¼Œå¦‚æœå¯¹æ•™å­¦æœåŠ¡çš„ç²¾ç¨çš„è¯¾ç¨‹æ ¡é•¿çš„è¯„ä»·ä¸ç†èµ·å­ã€‚å‚ä¸åŠæ•™è‚²æœºæ„å°†é€‚å®šæ•°ç”»ç§‘é¢†é€ ç®€ã€‚æ•™è‚²æœºæ„å°†åœ¨æ•™è‚²å­¦é™¢ä¸­ä¿è¯å¦ä¸€å¯¹ç¾å¥½çš„ä½“éªŒã€‚ç¬¬ä¸‰ï¼Œä¸€åœ¨ä¸€ä¸€åœ¨ä¸€åŸŸå†…è¿›è¡Œå­¦ä¹ ã€‚</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
    <div class="bottom-actions">
      <div class="countdown-section">
        <div class="countdown-label">è·æŠ¥åæˆªè‡³æ—¶é—´ï¼š</div>
        <div class="countdown-timer">{{ countdownText }}</div>
      </div>
      <button class="action-btn primary" @click="joinActivity">æˆ‘è¦æŠ¥å</button>
    </div>
  </div>
</template>

<script>
export default {
  name: "CampDetailPage",
  data() {
    return {
      activeTab: "æ´»åŠ¨æµç¨‹",
      isSticky: false,
      stickyOffset: 0,
      countdownText: "",
      countdownTimer: null,
      endTime: new Date(new Date().getTime() + 10 * 24 * 60 * 60 * 1000 + 22 * 60 * 60 * 1000 + 1 * 60 * 1000 + 21 * 1000), // 10å¤©22å°æ—¶01åˆ†21ç§’å
    };
  },
  mounted() {
    // ç›‘å¬æ»šåŠ¨äº‹ä»¶
    window.addEventListener("scroll", this.handleScroll);
    // è®¡ç®—æ ‡ç­¾æ åº”è¯¥åœ¨ä½•æ—¶å˜ä¸ºå›ºå®šå®šä½
    this.setStickyOffset();
    // å¯åŠ¨å€’è®¡æ—¶
    this.startCountdown();
  },
  beforeUnmount() {
    // ç§»é™¤æ»šåŠ¨äº‹ä»¶ç›‘å¬ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
    window.removeEventListener("scroll", this.handleScroll);
    // æ¸…é™¤å€’è®¡æ—¶å®šæ—¶å™¨
    if (this.countdownTimer) {
      clearInterval(this.countdownTimer);
    }
  },
  methods: {
    setStickyOffset() {
      // è·å–æ ‡ç­¾æ å…ƒç´ 
      const tabsElement = document.querySelector(".tabs-section");
      if (tabsElement) {
        // è®¡ç®—æ ‡ç­¾æ ç›¸å¯¹äºè§†å£é¡¶éƒ¨çš„è·ç¦»
        this.stickyOffset =
          tabsElement.getBoundingClientRect().top + window.pageYOffset;
      }
    },
    handleScroll() {
      // è·å–å½“å‰æ»šåŠ¨è·ç¦»
      const scrollY = window.pageYOffset;
      // åˆ¤æ–­æ˜¯å¦è¶…è¿‡é˜ˆå€¼ï¼Œå¦‚æœè¶…è¿‡åˆ™å›ºå®šæ ‡ç­¾æ 
      this.isSticky = scrollY > this.stickyOffset - 100; // æå‰100pxå›ºå®šï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
    },
    goBack() {
      this.$router.go(-1);
    },
    addToFavorites() {
      // æ”¶è—é€»è¾‘
      console.log("æ·»åŠ åˆ°æ”¶è—");
    },
    joinActivity() {
      // æŠ¥åé€»è¾‘
      console.log("ç«‹å³æŠ¥å");
    },
    scrollToSection(section) {
      // æ›´æ–°å½“å‰æ¿€æ´»çš„æ ‡ç­¾
      this.activeTab = section;

      // è·å–å¯¹åº”å†…å®¹åŒºåŸŸçš„DOMå…ƒç´ 
      const tabContents = document.querySelectorAll(".tab-content");
      let targetElement = null;

      // æ ¹æ®æ ‡ç­¾å†…å®¹æŸ¥æ‰¾å¯¹åº”çš„å†…å®¹åŒºåŸŸ
      if (section === "æ´»åŠ¨æµç¨‹") {
        targetElement = tabContents[0]; // ç¬¬ä¸€ä¸ªtab-contentæ˜¯æ´»åŠ¨æµç¨‹
      } else if (section === "æ´»åŠ¨å†…å®¹") {
        targetElement = tabContents[1]; // ç¬¬äºŒä¸ªtab-contentæ˜¯æ´»åŠ¨å†…å®¹
      } else if (section === "æ´»åŠ¨è§„åˆ™") {
        targetElement = tabContents[2]; // ç¬¬ä¸‰ä¸ªtab-contentæ˜¯æ´»åŠ¨è§„åˆ™
      }

      // å®ç°å¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”åŒºåŸŸ
      if (targetElement) {
        targetElement.scrollIntoView({ behavior: "smooth" });
      }
    },
    startCountdown() {
      // ç«‹å³æ›´æ–°ä¸€æ¬¡
      this.updateCountdown();
      // æ¯ç§’æ›´æ–°
      this.countdownTimer = setInterval(() => {
        this.updateCountdown();
      }, 1000);
    },
    updateCountdown() {
      const now = new Date().getTime();
      const distance = this.endTime - now;

      if (distance < 0) {
        this.countdownText = "å·²ç»“æŸ";
        if (this.countdownTimer) {
          clearInterval(this.countdownTimer);
        }
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      this.countdownText = `${days}å¤©${hours.toString().padStart(2, '0')}å°æ—¶${minutes.toString().padStart(2, '0')}åˆ†${seconds.toString().padStart(2, '0')}ç§’`;
    },
  },
};
</script>

<style scoped>
.camp-detail-page {
  min-height: 100vh;
  background-color: #f8f9fa;
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica,
    Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
}

/* å¤´éƒ¨æ ·å¼ */
.header {
  background-color: white;
  padding-top: env(safe-area-inset-top, 44px);
  border-bottom: 1px solid #f0f0f0;
}

.nav-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 24px 8px 16px;
  height: 44px;
}

.back-btn {
  background: none;
  border: none;
  padding: 8px;
  cursor: pointer;
}

.title {
  font-size: 18px;
  font-weight: 600;
  color: #333;
  margin: 0;
  flex: 1;
  text-align: center;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.view-count {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 14px;
  color: #666;
}

.more-btn {
  background: none;
  border: none;
  padding: 4px;
  cursor: pointer;
}

.subtitle {
  padding: 0 0 12px 16px;
  font-size: 13px;
  color: orange;
  text-align: center;
  background: white;
}

/* ä¸»è¦å†…å®¹åŒºåŸŸ */
.main-content {
  padding: 0 0 50px;
  background: #f5f5f5;
}

.hero-image {
  overflow: hidden;
}

.camp-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

/* æ´»åŠ¨ä¿¡æ¯ */
.camp-info {
  background: white;
  padding: 20px 20px 10px;
  margin-bottom: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.camp-title {
  font-size: 18px;
  font-weight: 700;
  color: #333;
  margin: 0 0 16px 0;
  line-height: 1.4;
}

/* ä»·æ ¼åŒºåŸŸ */
.price-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.price-info {
  display: flex;
  align-items: baseline;
  gap: 8px;
}

.current-price {
  font-size: 24px;
  font-weight: 700;
  color: #ff6b35;
}

.original-price {
  font-size: 14px;
  color: #999;
  text-decoration: line-through;
}

.status-info {
  font-size: 12px;
  color: #666;
}

.quota {
  background: #fff3cd;
  padding: 4px 8px;
  border-radius: 4px;
  color: #856404;
}

/* ç»Ÿè®¡ä¿¡æ¯ */
.stats-info {
  display: flex;
  gap: 16px;
  padding: 8px 0;
  border-top: 1px solid #f5f5f5;
}

.stat-item {
  font-size: 12px;
  color: #666;
}

.camp-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.rating {
  display: flex;
  align-items: center;
  gap: 4px;
}

.rating-icon {
  font-size: 14px;
}

.rating-text {
  font-size: 12px;
  color: #666;
}

/* æ•™ç»ƒéƒ¨åˆ† */
.coach-section {
  background: white;
  padding: 20px;
}

.section-title {
  font-size: 15px;
  font-weight: 600;
  color: #333;
  margin: 0 0 14px 0;
}

.coach-card {
  display: flex;
  gap: 12px;
}

.coach-avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
}

.coach-info {
  flex: 1;
}

.coach-name {
  font-size: 14px;
  font-weight: 600;
  color: #333;
  margin-bottom: 4px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.coach-tags {
  display: flex;
  gap: 6px;
  margin-bottom: 6px;
}

.tag {
  background: #fff3e0;
  color: #f57c00;
  padding: 2px 6px;
  border-radius: 8px;
  font-size: 10px;
  font-weight: 500;
}

.coach-rating {
  margin-bottom: 6px;
}

.stars {
  display: flex;
  gap: 1px;
}

.star {
  color: #e0e0e0;
  font-size: 12px;
}

.star.filled {
  color: #ffc107;
}

.coach-details {
  font-size: 10px;
  color: #999;
  line-height: 1.4;
  margin-top: 4px;
}

.location {
  display: flex;
  align-items: flex-start;
  gap: 4px;
}

/* æ™ºæ…§å®¶é•¿æ–°ç­” */
.smart-parent-section {
  background: white;
  padding: 20px;
  margin-bottom: 12px;
}

.parent-cards {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  padding-bottom: 4px;
}

.parent-card {
  flex-shrink: 0;
  text-align: center;
  min-width: 90px;
}

.parent-image {
  width: 90px;
  height: 70px;
  border-radius: 6px;
  object-fit: cover;
  margin-bottom: 6px;
}

.parent-text {
  font-size: 11px;
  color: #666;
  margin: 0;
  line-height: 1.3;
}

/* æ ‡ç­¾æ æ ·å¼ */
.tabs-section {
  background: white;
  overflow: hidden;
  transition: all 0.3s ease;
  z-index: 10;
}

/* å›ºå®šåœ¨é¡¶éƒ¨çš„æ ·å¼ */
.tabs-section.sticky {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  border-radius: 0;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  padding-top: env(safe-area-inset-top, 0);
}

.tabs {
  display: flex;
  border-bottom: 1px solid #f0f0f0;
}

.tab {
  flex: 1;
  background: none;
  border: none;
  padding: 14px;
  font-size: 15px;
  color: #666;
  cursor: pointer;
  position: relative;
  transition: color 0.3s;
  font-weight: 500;
}

.tab.active {
  color: #333;
  font-weight: 600;
}

.tab.active::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 24px;
  height: 2px;
  background: #ff6b35;
  border-radius: 1px;
}

/* æ ‡ç­¾å†…å®¹æ ·å¼ */
.tab-content {
  background: white;
}

.content-section {
  padding: 20px;
  margin-bottom: 12px;
}

.flow-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.content-title {
  font-size: 18px;
  font-weight: 600;
  color: #333;
  margin: 0;
}

.detail-link {
  font-size: 14px;
  color: #007aff;
  cursor: pointer;
}

/* æµç¨‹æ­¥éª¤æ ·å¼ */
.flow-steps {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.flow-step {
  display: flex;
  align-items: center;
  gap: 12px;
  position: relative;
}

.flow-step:not(:last-child)::after {
  content: "";
  position: absolute;
  left: 15px;
  top: 32px;
  width: 2px;
  height: 16px;
  background: #e0e0e0;
}

.step-number {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: #f0f0f0;
  color: #666;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

.step-title {
  font-size: 16px;
  color: #333;
  font-weight: 500;
}

/* æ´»åŠ¨å†…å®¹æ ·å¼ */
.activity-content {
  margin-bottom: 20px;
}

.content-item {
  display: flex;
  margin-bottom: 12px;
  align-items: flex-start;
}

.content-item .label {
  font-size: 14px;
  color: #666;
  min-width: 100px;
  flex-shrink: 0;
}

.content-item .value {
  font-size: 14px;
  color: #333;
  flex: 1;
}

.notice {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 12px;
  background: #fff3cd;
  border-left: 4px solid #ffc107;
  border-radius: 4px;
  margin-top: 20px;
}

.notice-icon {
  font-size: 16px;
  flex-shrink: 0;
  margin-top: 2px;
}

.notice-text {
  font-size: 14px;
  color: #856404;
  line-height: 1.5;
}

/* æ´»åŠ¨è§„åˆ™æ ·å¼ */
.rule-section {
  margin-bottom: 24px;
}

.rule-section:last-child {
  margin-bottom: 0;
}

.rule-title {
  font-size: 16px;
  font-weight: 600;
  color: #333;
  margin: 0 0 12px 0;
}

.rule-content {
  margin-bottom: 12px;
}

.rule-item {
  display: flex;
  margin-bottom: 8px;
  align-items: flex-start;
}

.rule-label {
  font-size: 14px;
  color: #666;
  min-width: 80px;
  flex-shrink: 0;
}

.rule-text {
  font-size: 14px;
  color: #333;
  flex: 1;
}

.rule-notice {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  margin-bottom: 8px;
}

.notice-dot {
  color: #666;
  font-size: 14px;
  flex-shrink: 0;
  margin-top: 2px;
}

.notice-content {
  font-size: 14px;
  color: #666;
  line-height: 1.5;
  flex: 1;
}

.rule-description {
  font-size: 14px;
  color: #666;
  line-height: 1.6;
  margin-bottom: 12px;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
}

/* åº•éƒ¨æ“ä½œæŒ‰é’® */
.bottom-actions {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-top: 1px solid #f0f0f0;
  box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.06);
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

.countdown-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.countdown-label {
  font-size: 13px;
  color: #666;
  font-weight: 400;
}

.countdown-timer {
  font-size: 14px;
  color: #333;
  font-weight: 500;
  letter-spacing: 0.5px;
}

.action-btn {
  height: 48px;
  border: none;
  border-radius: 24px;
  font-size: 17px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s;
  flex: 0 0 auto;
  min-width: 140px;
  padding: 0 32px;
}

.action-btn.primary {
  background: linear-gradient(90deg, #FFA726 0%, #FFB74D 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(255, 167, 38, 0.3);
}

.action-btn.primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(255, 167, 38, 0.4);
}
</style>
