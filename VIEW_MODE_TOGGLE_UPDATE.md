# 显示模式切换功能说明

## 更新时间
2025-10-13

## 功能概述

为**冠军大师**和**非遗大师**页面添加了两种显示模式切换功能，用户可以通过点击不同的筛选标签查看不同类型的内容。

## 🎯 两种显示模式

### 1. 大师卡片模式 (Master Mode)
**显示内容**：展示大师个人信息
- 大师头像（大图）
- 大师姓名
- 大师称号/头衔
- 擅长领域
- "去打Call"按钮

**触发条件**：
- 点击"关注"标签
- 点击"附近"标签
- 点击"筛选"标签
- 点击"直播"标签
- 初始默认状态

### 2. 作品内容模式 (Content Mode)
**显示内容**：展示大师作品或相关内容
- 作品图片
- 作品标题
- 作者头像 + 姓名
- 点赞按钮 + 点赞数

**触发条件**：
- 点击"推荐"标签

## 📊 模式切换逻辑

```javascript
selectFilterTab(tabId) {
  this.selectedFilterTab = tabId;
  
  // 在冠军/非遗大师页面，根据标签切换显示模式
  if (this.selectedCategory !== "popular") {
    // "推荐"显示作品模式，其他显示大师模式
    if (tabId === "recommend") {
      this.viewMode = "content";
    } else {
      this.viewMode = "master";
    }
  }
}
```

## 🎨 数据结构

### 大师数据 (championMastersList / heritageMastersList)
```javascript
{
  id: 1,
  name: "李教练",
  title: "世界游泳冠军",
  specialty: "蛙泳/自由泳",
  avatar: "https://..."
}
```

### 作品数据 (contentList)
```javascript
{
  id: 1,
  title: "非遗剪纸服装秀 | 白鹅谭艺术中心",
  author: {
    name: "非遗剪纸张颖莹",
    avatar: "https://..."
  },
  image: "https://...",
  likes: 0
}
```

## 🔄 切换流程

```
用户操作流程：
1. 进入冠军大师/非遗大师页面
   ↓
2. 默认显示"关注"标签，大师卡片模式
   ↓
3. 点击"推荐"标签
   ↓
4. 自动切换到作品内容模式
   ↓
5. 点击其他标签（关注/附近/筛选/直播）
   ↓
6. 自动切回大师卡片模式
```

## 📱 页面效果对比

### 大师卡片模式
```
┌─────────────┬─────────────┐
│ [大师头像]  │ [大师头像]  │
│  ◯          │  ◯          │
│ 李教练      │ 赵教练      │
│ 世界游泳... │ 奥运会...   │
│ 擅长:蛙泳   │ 擅长:仰泳   │
│[去打Call]   │[去打Call]   │
└─────────────┴─────────────┘
```

### 作品内容模式
```
┌─────────────┬─────────────┐
│ [作品图片]  │ [作品图片]  │
│             │             │
│ 非遗剪纸... │ 当饰品遇... │
│ ◯ 张颖莹 ♡ │ ◯ 修猫  ♡  │
└─────────────┴─────────────┘
```

## 💡 交互细节

### 模式切换动画
- 使用 Vue 的条件渲染 (`v-if/v-else`)
- 平滑切换，无闪烁
- 保持2列网格布局一致性

### 状态保持
- 切换分类时重置为大师模式
- 筛选标签高亮状态正确显示
- 滚动位置保持（在同一分类内切换）

### 点赞功能
- 点击爱心图标切换点赞状态
- 空心❤️ → 实心❤️（红色）
- 点赞数实时更新
- 支持点赞数格式化（>10000 显示为"X万"）

## 🔧 技术实现

### 状态管理
```javascript
data() {
  return {
    viewMode: "master", // 'master' 或 'content'
    selectedFilterTab: "follow",
    // ...
  }
}
```

### 条件渲染
```vue
<template v-else>
  <!-- 大师卡片模式 -->
  <div v-if="viewMode === 'master'">
    <ChampionMasterCard ... />
  </div>
  
  <!-- 作品内容模式 -->
  <div v-else>
    <ContentCard ... />
  </div>
</template>
```

### 组件通信
```javascript
// 父组件处理点赞事件
handleLike(contentId) {
  const content = this.contentList.find(c => c.id === contentId);
  if (content) {
    content.likes++;
  }
}
```

## ✅ 功能清单

### 冠军大师页面
- ✅ 关注标签 → 大师卡片模式
- ✅ 推荐标签 → 作品内容模式
- ✅ 附近标签 → 大师卡片模式
- ✅ 筛选标签 → 大师卡片模式
- ✅ 直播标签 → 大师卡片模式

### 非遗大师页面
- ✅ 关注标签 → 大师卡片模式
- ✅ 推荐标签 → 作品内容模式
- ✅ 附近标签 → 大师卡片模式
- ✅ 筛选标签 → 大师卡片模式
- ✅ 直播标签 → 大师卡片模式

### 人气大师页面
- ✅ 始终显示列表布局（不支持模式切换）

## 🧪 测试要点

1. ✅ 切换到冠军大师页面，默认显示大师卡片
2. ✅ 点击"推荐"标签，切换到作品内容模式
3. ✅ 点击"关注"标签，切换回大师卡片模式
4. ✅ 切换到非遗大师页面，重复上述测试
5. ✅ 在作品模式下点击爱心，验证点赞功能
6. ✅ 切换分类后，验证模式正确重置
7. ✅ 验证两种模式的布局和样式正确

## 📄 相关文件

- **页面文件**: `src/views/RankingPage.vue`
- **大师卡片组件**: `src/components/ChampionMasterCard.vue`
- **作品内容组件**: `src/components/ContentCard.vue`

## 🎉 完成状态

所有功能已实现并可正常使用！用户可以在冠军大师和非遗大师页面自由切换两种显示模式，体验不同的内容呈现方式。
