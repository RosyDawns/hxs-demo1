# 唤醒兽平台 (HXS) 项目文档

## 项目简介

唤醒兽平台是一个基于 Vue 3 的移动端生活服务类应用，旨在为用户提供生活技能学习、教练推荐、AI助手等服务。平台连接生活技能教练（"唤醒狮"）和用户，打造一个技能分享和学习的生态平台。

## 最新更新 (2025-10-13)

- ✅ 首页双模式切换功能
- ✅ 排行榜三模式循环切换功能
- ✅ 冠军大师/非遗大师页面优化
- ✅ 组件拆分重构（提升可维护性）
- ✅ 健康打卡功能模块
- ✅ 日常页面（Daily Page）

## 技术栈

### 前端框架
- **Vue 3** (v3.5.17) - 采用 Composition API 和 `<script setup>` 语法
- **Vue Router** (v4.5.1) - 单页应用路由管理

### 构建工具
- **Vite** (v7.0.4) - 快速开发构建工具
- **@vitejs/plugin-vue** (v6.0.0) - Vue 单文件组件支持

### 样式框架
- **TailwindCSS** (v4.1.13) - 实用优先的CSS框架
- **PostCSS** (v8.5.6) - CSS 后处理工具
- **Less** (v4.4.1) - CSS 预处理器

### UI图标
- **Font Awesome** - 图标字体库

## 项目结构

```
hxs/
├── public/                     # 静态资源目录
│   ├── font-awesome.all.min.css    # Font Awesome 样式文件
│   ├── vite.svg                    # Vite 默认图标
│   └── webfonts/                   # 字体文件
├── src/                        # 源代码目录
│   ├── assets/                 # 资源文件
│   │   ├── images/            # 图片资源 (56个文件)
│   │   ├── video/             # 视频资源
│   │   └── vue.svg            # Vue logo
│   ├── components/            # 公共组件 (22个组件)
│   │   ├── ChampionMasterCard.vue   # 冠军/非遗大师卡片
│   │   ├── CheckInCalendar.vue      # 打卡日历组件
│   │   ├── CoachContentCard.vue     # 教练内容卡片（模式2）
│   │   ├── CoachListCard.vue        # 教练列表卡片（模式1）
│   │   ├── CoachListItem.vue        # 教练列表项组件
│   │   ├── CommonHeader.vue         # 通用头部组件
│   │   ├── ContentCard.vue          # 作品内容卡片
│   │   ├── DailyActivity.vue        # 日常活动组件
│   │   ├── DailyCoach.vue           # 日常教练组件
│   │   ├── DailyHome.vue            # 日常首页组件
│   │   ├── DietCheckIn.vue          # 饮食打卡组件
│   │   ├── DynamicListItem.vue      # 动态列表项组件
│   │   ├── ExerciseCheckIn.vue      # 运动打卡组件
│   │   ├── FooterNav.vue            # 底部导航组件
│   │   ├── MasterCard.vue           # 大师卡片组件
│   │   ├── MetabolismCheckIn.vue    # 代谢打卡组件
│   │   ├── Mode2Card.vue            # 模式2卡片（首页风格）
│   │   ├── MoodCheckIn.vue          # 心情打卡组件
│   │   ├── NotesContent.vue         # 笔记内容组件
│   │   ├── RankingCard.vue          # 排行榜卡片组件
│   │   ├── SleepCheckIn.vue         # 睡眠打卡组件
│   │   └── hxs-item.vue             # 通用项目组件
│   ├── router/                # 路由配置
│   │   └── index.js               # 路由定义和配置
│   ├── views/                 # 页面组件 (45个页面)
│   │   ├── IndexPage.vue          # 首页（支持双模式切换）
│   │   ├── AIAssistantPage.vue    # AI助手页面
│   │   ├── TeacherListPage.vue    # 教练列表页面
│   │   ├── RankingPage.vue        # 排行榜页面（三模式切换）
│   │   ├── EnergyTreePage.vue     # 能量树页面
│   │   ├── DailyPage.vue          # 日常页面
│   │   ├── CheckInPage.vue        # 健康打卡页面
│   │   ├── LeaderChannelPage.vue  # 主理人频道页面
│   │   ├── BuddyWakerPage.vue     # 搭子唤醒师页面
│   │   └── [其他36个页面组件...]
│   ├── App.vue                # 应用根组件
│   ├── main.js               # 应用入口文件
│   └── style.css             # 全局样式文件
├── .vscode/                  # VS Code 配置
├── backup/                   # 备份文件
├── dist/                     # 构建输出目录
├── node_modules/             # 依赖包
├── index.html               # HTML 模板
├── package.json             # 项目配置文件
├── vite.config.js          # Vite 配置文件
├── postcss.config.js       # PostCSS 配置文件
└── pnpm-lock.yaml          # pnpm 锁文件
```

## 核心功能模块

### 1. 首页 (IndexPage.vue) ⭐ 支持双模式切换
- **城市选择器** - 支持省市区三级联动选择
- **搜索与匹配** - 全文搜索和一键智能匹配功能
- **核心功能入口**:
  - 主理人频道 - 知名教练和专业导师
  - 技能唤醒狮 - 各类生活技能教练
  - 搭子唤醒狮 - 生活伴侣和学习搭档
- **快捷功能** - 排行榜、签到、能量树等功能快速入口

#### 双模式切换功能 🆕
- **模式1：列表模式**（默认）
  - 大尺寸头像（180px高度）
  - 完整的教练信息（资质、技能、评分、服务标签）
  - 适合对比选择教练
- **模式2：内容卡片模式**
  - 正方形头像图片（1:1比例）
  - 简洁的信息展示（资质、姓名）
  - 点赞功能与点赞数显示
  - 适合快速浏览
- **切换方式**：重复点击“关注”/“推荐”/“附近”标签
- **组件使用**：CoachListCard.vue + CoachContentCard.vue

### 2. AI助手页面 (AIAssistantPage.vue)
- **智能对话** - 基于大狮兄AI的智能问答系统
- **教练推荐** - 根据用户需求智能推荐合适的教练
- **多模态交互** - 支持文本和语音两种输入方式
- **对话历史** - 保存和管理历史对话记录
- **快速查询卡片** - 预设常见问题快速查询

### 3. 教练列表页面 (TeacherListPage.vue)
- **多维度分类**:
  - 发现 - 推荐、筛选、主理人、生活技能、生活搭子
  - 城市 - 附近、全城
  - 关注 - 动态、已关注的教练
- **智能筛选** - 基于地理位置、技能类别等条件筛选

### 4. 用户中心功能
- **个人资料管理** - 用户信息维护
- **订单管理** - 查看和管理服务订单
- **收藏夹** - 收藏喜欢的教练和服务
- **优惠券系统** - 优惠券的获取和使用
- **地址管理** - 收货地址的添加和编辑

### 5. 排行榜页面 (RankingPage.vue) ⭐ 三模式切换
- **三大分类**：人气大师、冠军大师、非遗大师
- **智能布局**：根据分类自动切换显示样式

#### 人气大师页面
- **布局方式**：列表式布局（RankingCard）
- **显示内容**：TOP排名、教练信息、评分星级
- **特色功能**：二级分类标签（主理人频道/技能唤醒师/搭子唤醒师）
- **筛选标签**：全部主理人、行业、餐饮美食、运动健康等
- **操作按钮**：查看主页 + 去打Call

#### 冠军大师/非遗大师页面 🆕
- **布局方式**：2列网格布局（ChampionMasterCard）
- **三种显示模式**：
  - **模式1：大师卡片模式**（默认）
    - 大尺寸头像（264px高度）
    - 大师称号/头衔
    - 擅长领域
    - “去打Call”按钮（渐变色）
  - **模式2：列表卡片模式**（Mode2Card）
    - 首页风格的详细信息
    - 资质认证、评分星级
    - 服务标签（到店/上门/线上）
  - **模式3：作品内容模式**（ContentCard）
    - 作品图片展示
    - 作品标题与作者信息
    - 点赞功能
- **切换方式**：重复点击“关注”/“推荐”/“附近”标签，循环 mode1 → mode2 → mode3
- **筛选标签**：关注、推荐、附近、筛选、直播
- **搜索功能**：右侧放大镜图标，快速查找大师
- **专属数据**：冠军大师数据 / 非遗大师数据

### 6. 健康打卡功能 (CheckInPage.vue) 🆕
- **多维度打卡**：
  - 心情打卡 (MoodCheckIn.vue)
  - 睡眠打卡 (SleepCheckIn.vue)
  - 运动打卡 (ExerciseCheckIn.vue)
  - 饮食打卡 (DietCheckIn.vue)
  - 代谢打卡 (MetabolismCheckIn.vue)
- **打卡日历**：CheckInCalendar.vue 组件
- **数据记录**：每日健康数据跟踪和统计
- **视觉反馈**：打卡状态展示与成就徽章

### 7. 日常页面 (DailyPage.vue) 🆕
- **功能模块**：
  - DailyHome.vue - 日常首页
  - DailyCoach.vue - 日常教练推荐
  - DailyActivity.vue - 日常活动
- **内容聚合**：整合每日推荐、活动信息、教练动态

### 8. 社交功能
- **消息系统** - 与教练和其他用户的即时通讯
- **动态分享** - 学习心得和生活分享
- **排行榜** - 城市大神老狮排行榜（三模式切换）

### 9. 增值服务
- **能量树** - 用户成长和积分系统
- **每日签到** - 签到奖励机制
- **唤醒营** - 主题训练营活动（体重管理唤醒营等）

## 路由架构

### 主要路由配置
项目采用 Vue Router 4 配置了完整的路由系统，包含：

1. **核心页面路由**:
   - `/` - 首页
   - `/ai-assistant` - AI助手
   - `/teacher-list` - 教练列表
   - `/energy-tree` - 能量树
   - `/messages` - 消息中心
   - `/me` - 个人中心

2. **功能页面路由**:
   - `/matching` - 一键匹配
   - `/signin` - 用户登录
   - `/camp` - 唤醒营
   - `/store` - 个人橱窗
   - `/ranking` - 排行榜

3. **详情页面路由**:
   - `/product-detail/:id` - 商品详情（动态路由）
   - `/camp-detail` - 唤醒营详情
   - `/ouyang` - 教练详情

### 路由特性
- **滚动位置记忆** - 智能保存和恢复页面滚动位置
- **嵌套跳转处理** - 优化页面间跳转体验
- **路由元信息** - 包含页面标题、图标、导航显示等配置

## 样式设计

### 设计规范
- **主色调**: `#ED743A` (橙色)
- **辅助色**: `#1677ff` (蓝色)
- **灰度色**: `#333333` (深灰), `#999999` (中灰)
- **状态色**: 成功绿色、警告黄色、危险红色

### 响应式适配
- 基于 rem 单位的移动端适配
- 针对不同屏幕尺寸的媒体查询
- 320px - 375px 的小屏幕优化

### 动画效果
- 页面切换过渡动画
- 淡入淡出效果
- 卡片旋转和阴影效果

## 组件架构

### 导航类组件
- **FooterNav.vue** - 底部导航栏，支持动态激活状态
- **CommonHeader.vue** - 通用页面头部

### 教练/大师展示组件 🆕
- **CoachListCard.vue** - 教练列表卡片（首页模式1）
  - 大尺寸头像展示（180px）
  - 完整信息：资质、技能、评分、服务标签
  - 支持点击事件
  
- **CoachContentCard.vue** - 教练内容卡片（首页模式2）
  - 正方形图片展示（1:1比例）
  - 简洁信息：资质、姓名
  - 内置点赞功能和状态管理
  - 支持 @click 和 @like 事件

- **ChampionMasterCard.vue** - 冠军/非遗大师卡片（模式1）
  - 特大尺寸头像（264px）
  - 大师称号/头衔展示
  - 擅长领域介绍
  - “去打Call”按钮（渐变色背景）

- **Mode2Card.vue** - 模式2卡片（排行榜模式2）
  - 首页风格的详细信息
  - 资质认证、评分星级
  - 服务标签显示

- **ContentCard.vue** - 作品内容卡片（模式3）
  - 作品图片展示
  - 作品标题与作者信息
  - 点赞功能和点赞数统计

- **RankingCard.vue** - 排行榜卡片（人气大师）
  - TOP排名标签
  - 教练详细信息
  - 查看主页 + 打Call 双按钮

- **MasterCard.vue** - 通用大师卡片组件
- **CoachListItem.vue** - 教练列表项组件
- **hxs-item.vue** - 通用项目组件

### 内容展示组件
- **DynamicListItem.vue** - 动态内容列表项
- **NotesContent.vue** - 笔记内容组件

### 健康打卡组件 🆕
- **CheckInCalendar.vue** - 打卡日历组件
- **MoodCheckIn.vue** - 心情打卡组件
- **SleepCheckIn.vue** - 睡眠打卡组件
- **ExerciseCheckIn.vue** - 运动打卡组件
- **DietCheckIn.vue** - 饮食打卡组件
- **MetabolismCheckIn.vue** - 代谢打卡组件

### 日常页面组件 🆕
- **DailyHome.vue** - 日常首页组件
- **DailyCoach.vue** - 日常教练组件
- **DailyActivity.vue** - 日常活动组件

### 组件设计特点
- ✅ **高度可复用**：组件可在多个页面复用
- ✅ **单一职责**：每个组件职责明确，易于维护
- ✅ **Props/Events**：清晰的属性和事件定义
- ✅ **样式隔离**：使用 scoped 样式避免冲突
- ✅ **响应式**：自适应不同屏幕尺寸
- ✅ **错误处理**：统一的图片错误处理逻辑

## 开发环境

### 开发命令
```bash
# 安装依赖
pnpm install

# 开发服务器
pnpm dev

# 生产构建
pnpm build

# 预览构建结果
pnpm preview
```

### 开发配置
- **开发服务器**: Vite Dev Server
- **热重载**: 支持组件级热更新
- **路径别名**: 
  - `@` -> `src/`
  - `@assets` -> `src/assets/`
  - `@images` -> `src/assets/images/`

## 项目特色

### 1. 移动端优先设计
- 完全基于移动端设计的UI/UX
- 触摸友好的交互设计
- 防止用户选择和拖拽的优化

### 2. 智能化服务
- AI驱动的教练推荐系统
- 智能匹配算法
- 个性化内容推荐

### 3. 多模式切换体验 ⭐ 技术亮点
- **首页双模式**：列表模式 ⇄ 内容卡片模式
- **排行榜三模式**：大师卡片 → 列表卡片 → 作品内容 → 循环
- **智能切换**：重复点击标签即可切换模式
- **自动重置**：切换标签时自动返回默认模式
- **组件化**：每种模式独立组件，易于维护和测试

### 4. 组件化架构 ⭐ 技术亮点
- **22个公共组件**：高度模块化的组件设计
- **拆分重构**：首页代码量减少67%，可维护性大幅提升
- **组件复用**：同一组件可在多个页面使用
- **单一职责**：每个组件职责明确，易于测试

### 5. 社交化学习
- 教练与学员的社交互动
- 学习成果分享机制
- 社区排行榜系统（三模式切换）

### 6. 完整的服务闭环
- 从发现教练到完成学习的完整流程
- 订单管理和支付系统
- 售后服务和评价体系

### 7. 健康管理功能 🆕
- 多维度健康打卡（心情/睡眠/运动/饮食/代谢）
- 打卡日历可视化
- 数据跟踪和统计分析

## 部署说明

### 构建输出
- 构建文件输出到 `dist/` 目录
- 支持现代浏览器的ES模块
- 资源文件自动压缩和优化

### 环境要求
- Node.js 16+ 
- 现代浏览器支持 (Chrome 70+, Safari 13+)
- 移动端浏览器优化

## 技术改进记录 (2025-10-13)

### 架构优化
- ✅ **组件拆分重构**：首页模板行数从150行减少到50行（↓ 67%）
- ✅ **组件复用性**：创建了6个可复用卡片组件
- ✅ **代码可维护性**：每个组件职责单一，易于维护和测试

### 功能增强
- ✅ **多模式切换**：首页双模式 + 排行榜三模式
- ✅ **健康打卡**：5个打卡组件 + 日历组件
- ✅ **日常页面**：3个日常功能模块
- ✅ **大师页面**：冠军大师/非遗大师页面优化

### 用户体验提升
- ✅ **智能切换**：重复点击标签切换模式，操作简单直观
- ✅ **视觉一致性**：Mode2Card与首页风格保持一致
- ✅ **条件性显示**：根据分类智能显示/隐藏功能元素

## 未来规划

### 1. 功能扩展
- 视频通话功能
- 在线支付集成
- 更丰富的AI对话能力
- 实时通知系统
- 更多健康指标跟踪

### 2. 性能优化
- 图片懒加载
- 组件代码分割
- PWA 支持
- 骨架屏加载效果
- 缓存策略优化

### 3. 用户体验
- 离线使用支持
- 更流畅的动画效果
- 无障碍访问优化
- 多语言支持

### 4. 技术提升
- TypeScript 集成
- 组件文档（Storybook）
- 单元测试覆盖
- E2E 测试

---

## 相关文档

- `COMPONENT_REFACTOR_SUMMARY.md` - 首页组件拆分重构说明
- `THREE_MODE_TOGGLE_UPDATE.md` - 三模式切换功能说明
- `INDEX_PAGE_MODE_TOGGLE.md` - 首页双模式切换功能说明
- `FINAL_RANKING_PAGE_UPDATE.md` - 排行榜页面最终优化说明
- `CHAMPION_MASTER_UPDATE.md` - 冠军大师页面更新说明
- `HERITAGE_MASTER_UPDATE.md` - 非遗大师页面更新说明

---

**开发团队**: [团队信息]  
**版本**: v0.1.0  
**最后更新**: 2025年10月13日  
**技术支持**: [联系方式]  

---

## 项目统计

- **页面组件**: 45个
- **公共组件**: 22个
- **路由配置**: 50+个路由
- **图片资源**: 56个
- **技术栈**: Vue 3 + Vite + TailwindCSS + Vue Router
